import subprocess

def run(target, output_file):
    print(f"🕵️ [Web Fingerprint] Rodando WhatWeb em {target}...")
    try:
        command = f"whatweb http://{target} --no-errors"
        result = subprocess.run(command, shell=True, capture_output=True, text=True)
        with open(output_file, "w") as f:
            f.write(result.stdout)
        print(f"✅ Fingerprint concluído")
    except Exception as e:
        print(f"❌ Erro ao rodar WhatWeb: {e}")
