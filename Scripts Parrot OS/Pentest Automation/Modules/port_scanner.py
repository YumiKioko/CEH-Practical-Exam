import subprocess

def run(target, output_file):
    print(f"🔎 [Port Scan] Escaneando {target} nas portas 80, 443, 8080...")
    try:
        command = f"nmap -p 80,443,8080 -T4 {target}"
        result = subprocess.run(command, shell=True, capture_output=True, text=True)
        with open(output_file, "w") as f:
            f.write(result.stdout)
        print(f"✅ Port Scan concluído")
    except Exception as e:
        print(f"❌ Erro ao escanear portas: {e}")
